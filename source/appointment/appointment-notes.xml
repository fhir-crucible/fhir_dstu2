<div xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.w3.org/1999/xhtml ../../schema/fhir-xhtml.xsd" xmlns="http://www.w3.org/1999/xhtml">

<a name="typical"> </a>
	<h2>Typical Status Transition Examples:</h2>

	<h3>Typical Flow of statuses for an appointment:</h3>
	<table  class="grid">
		<tr>
			<th>Activity Description</th>
			<th>Slot</th>
			<th>Appointment</th>
			<th>Appointment Response</th>
			<th>Encounter</th>
		</tr>
		<tr>
			<td>
				The Schedule is created/published <br/>(Role: Scheduler)
			</td>
			<!-- Activity Description -->
			<td>freeBusyType = FREE</td>
			<!-- Slot -->
			<td></td>
			<!-- Appointment -->
			<td></td>
			<!-- Appointment Response -->
			<td></td>
			<!-- Encounter -->
		</tr>
		<tr>
			<td>
				An appointment request is created after locating an available slot <br />(Role: Requester)
			</td>
			<!-- Activity Description -->
			<td></td>
			<!-- Slot -->
			<td>
				status = pending<br />
				participant.status = needs-action
			</td>
			<!-- Appointment -->
			<td></td>
			<!-- Appointment Response -->
			<td></td>
			<!-- Encounter -->
		</tr>
		<tr>
			<td>
				The appointment request is processed and the slot status updated<br />(Role: Scheduler)
			</td>
			<!-- Activity Description -->
			<td>freeBusyType = BUSY-TENTATIVE</td>
			<!-- Slot -->
			<td></td>
			<!-- Appointment -->
			<td></td>
			<!-- Appointment Response -->
			<td></td>
			<!-- Encounter -->
		</tr>
		<tr>
			<td>
				The appointment is accepted as described – by all participants <br />(Role: Participant(s))
			</td>
			<!-- Activity Description -->
			<td></td>
			<!-- Slot -->
			<td></td>
			<!-- Appointment -->
			<td>participantStatus = accepted</td>
			<!-- Appointment Response -->
			<td></td>
			<!-- Encounter -->
		</tr>
		<tr>
			<td>
				The appointment is confirmed as accepted by all participants<br />(Role: Scheduler)
			</td>
			<!-- Activity Description -->
			<td>freeBusyType = BUSY</td>
			<!-- Slot -->
			<td>
				status = booked<br/>participant.status = accepted
			</td>
			<!-- Appointment -->
			<td></td>
			<!-- Appointment Response -->
			<td></td>
			<!-- Encounter -->
		</tr>
		<tr>
			<td>
				<i>
					Optional: Preparation for the appointment begins – could be preparing a room for the appointment etc.<br />(Role: Participants/Admin)
				</i>
			</td>
			<!-- Activity Description -->
			<td></td>
			<!-- Slot -->
			<td></td>
			<!-- Appointment -->
			<td></td>
			<!-- Appointment Response -->
			<td>
				status = planned (optional)<br />
				location.status = planned
			</td>
			<!-- Encounter -->
		</tr>
		<tr>
			<td>
				The patient arrives for the appointment, often sitting in a waiting room<br />(Role: Admin)
			</td>
			<!-- Activity Description -->
			<td></td>
			<!-- Slot -->
			<td>status = arrived</td>
			<!-- Appointment -->
			<td></td>
			<!-- Appointment Response -->
			<td>
				status = arrived<br />
				location.status = present
			</td>
			<!-- Encounter -->
		</tr>
		<tr>
			<td>
				The practitioner and the patient meet and the provision of the service begins, appointment is finished with now <br />(Role: Scheduler/Participant(s)/Admin)
			</td>
			<!-- Activity Description -->
			<td></td>
			<!-- Slot -->
			<td>status = fulfilled</td>
			<!-- Appointment -->
			<td></td>
			<!-- Appointment Response -->
			<td>status = in-progress</td>
			<!-- Encounter -->
		</tr>
		<tr>
			<td>
				The encounter concludes<br />(Role: Scheduler/Participant(s)/Admin)
			</td>
			<!-- Activity Description -->
			<td></td>
			<!-- Slot -->
			<td></td>
			<!-- Appointment -->
			<td></td>
			<!-- Appointment Response -->
			<td>status = finished</td>
			<!-- Encounter -->
		</tr>
	</table>

	<h3>Flow for the rejection/cancellation of an appointment</h3>
	<table  class="grid">
		<tr>
			<th>Activity Description</th>
			<th>Slot</th>
			<th>Appointment</th>
			<th>Appointment Response</th>
		</tr>
		<tr>
			<td>
				The Schedule is created/published <br/>(Role: Scheduler)
			</td>
			<!-- Activity Description -->
			<td>freeBusyType = FREE</td>
			<!-- Slot -->
			<td></td>
			<!-- Appointment -->
			<td></td>
			<!-- Appointment Response -->
		</tr>
		<tr>
			<td>
				 Appointment Request is created<br/>(Role: Requester)
			</td>
			<!-- Activity Description -->
			<td></td>
			<!-- Slot -->
			<td>
				status = pending<br/>
				participant.status = needs-action
			</td>
			<!-- Appointment -->
			<td></td>
			<!-- Appointment Response -->
		</tr>
		<tr>
			<td>
				The appointment request is processed and the slot status updated<br/>(Role: Scheduler)
			</td>
			<!-- Activity Description -->
			<td>freeBusyType = BUSY-TENTATIVE</td>
			<!-- Slot -->
			<td></td>
			<!-- Appointment -->
			<td></td>
			<!-- Appointment Response -->
		</tr>
		<tr>
			<td>
				Participant Declines the Appointment<br/>(Role: Participant)
			</td>
			<!-- Activity Description -->
			<td></td>
			<!-- Slot -->
			<td></td>
			<!-- Appointment -->
			<td>participantStatus = declined</td>
			<!-- Appointment Response -->
		</tr>
		<tr>
			<td>
				The appointment is cancelled<br/>(Role: Scheduler)
			</td>
			<!-- Activity Description -->
			<td>freeBusyType = FREE</td>
			<!-- Slot -->
			<td>
				status = cancelled<br/>
				participant.status = declined
			</td>
			<!-- Appointment -->
			<td></td>
			<!-- Appointment Response -->
		</tr>
	</table>

	<h3>Flow for re-negotiation:</h3>
	<table  class="grid">
		<tr>
			<th>Activity Description</th>
			<th>Slot</th>
			<th>Appointment</th>
			<th>Appointment Response</th>
		</tr>
		<tr>
			<td>
				The Schedule is created/published <br/>(Role: Scheduler)
			</td> <!-- Activity Description -->
			<td>freeBusyType = FREE</td> <!-- Slot -->
			<td></td> <!-- Appointment -->
			<td></td> <!-- Appointment Response -->
		</tr>
		<tr>
			<td>
				An appointment is requested with Brian and Peter<br/>(Role: Requester)
			</td> <!-- Activity Description -->
			<td></td> <!-- Slot -->
			<td>
				status = proposed<br/>
				participant(Brian).status = needs-action<br/>
				participant(Peter).status = needs-action
			</td> <!-- Appointment -->
			<td></td> <!-- Appointment Response -->
		</tr>
		<tr>
			<td>
				The Schedule is updated to inform others of interest in the slot<br/>(Role: Scheduler)
			</td> <!-- Activity Description -->
			<td>freeBusyType = BUSY-TENTATIVE</td> <!-- Slot -->
			<td></td> <!-- Appointment -->
			<td></td> <!-- Appointment Response -->
		</tr>
		<tr>
			<td>
				Brian accepts the appointment<br/>(Role: Participant-Brian)
			</td> <!-- Activity Description -->
			<td></td> <!-- Slot -->
			<td></td> <!-- Appointment -->
			<td>(Brian).participantStatus = accepted</td> <!-- Appointment Response -->
		</tr>
		<tr>
			<td>
				Appointment is updated with Brian's status<br/>(Role: Scheduler)
			</td> <!-- Activity Description -->
			<td></td> <!-- Slot -->
			<td>
				status = pending<br/>
				participant(Brian).status = accepted
			</td> <!-- Appointment -->
			<td></td> <!-- Appointment Response -->
		</tr>
		<tr>
			<td>
				Peter suggests a new time<br/>(Role: Participant-Peter)
			</td> <!-- Activity Description -->
			<td></td> <!-- Slot -->
			<td></td> <!-- Appointment -->
			<td>(Peter).participantStatus = tentative<br/><i>(with new time)</i></td> <!-- Appointment Response -->
		</tr>
		<tr>
			<td>
				Appointment is updated with new time, and indicates that action is needed by both participants<br/>(Role: Scheduler)
			</td> <!-- Activity Description -->
			<td></td> <!-- Slot -->
			<td>
				<i>(new time details updated)</i><br/>
				participant(Brian).status = needs-action<br/>
				participant(Peter).status = needs-action
			</td> <!-- Appointment -->
			<td></td> <!-- Appointment Response -->
		</tr>
		<tr>
			<td>
				Brian accepts the appointment<br/>(Role: Participant-Brian)
			</td> <!-- Activity Description -->
			<td></td> <!-- Slot -->
			<td></td> <!-- Appointment -->
			<td>(Brian).participantStatus = accepted</td> <!-- Appointment Response -->
		</tr>
		<tr>
			<td>
				Appointment updated<br/>(Role: Scheduler)
			</td> <!-- Activity Description -->
			<td></td> <!-- Slot -->
			<td>participant(Brian).status = accepted</td> <!-- Appointment -->
			<td></td> <!-- Appointment Response -->
		</tr>
		<tr>
			<td>
				<br/>(Role: Participant-Peter)
			</td> <!-- Activity Description -->
			<td></td> <!-- Slot -->
			<td></td> <!-- Appointment -->
			<td>(Peter).participantStatus = accepted</td> <!-- Appointment Response -->
		</tr>
		<tr>
			<td>
				Appointment updated<br/>(Role: Scheduler)
			</td> <!-- Activity Description -->
			<td>freeBusyType = BUSY</td> <!-- Slot -->
			<td>
				status = booked<br/>
				participant(Peter).status = accepted
			</td> <!-- Appointment -->
			<td></td> <!-- Appointment Response -->
		</tr>
	</table>
	
	<h3>Flow for a patient no-show:</h3>
	<table  class="grid">
		<tr>
			<th>Activity Description</th>
			<th>Slot</th>
			<th>Appointment</th>
			<th>Appointment Response</th>
			<th>Encounter</th>
		</tr>
		<tr>
			<td>
				<i>(from typical status flow)</i>
			</td>
			<!-- Activity Description -->
			<td>freeBusyType = BUSY</td>
			<!-- Slot -->
			<td>
				status = booked<br/>
				participant.status = accepted
			</td>
			<!-- Appointment -->
			<td></td>
			<!-- Appointment Response -->
			<td></td>
			<!-- Encounter -->
		</tr>
		<tr>
			<td>
				Appointment is updated as a noshow<br/>(Role: Scheduler/Admin)
			</td>
			<!-- Activity Description -->
			<td></td>
			<!-- Slot -->
			<td>status = noshow</td>
			<!-- Appointment -->
			<td></td>
			<!-- Appointment Response -->
			<td><i>(no encounter created)</i></td>
			<!-- Encounter -->
		</tr>
	</table>	
	
<a name="notes"> </a>
	<h2>Notes:</h2>
	<ul>
		<li>Placer/Filler (HL7 v2)</li>
		<p>
			The appointment information is effectively the same between the filler and placer, and given the nature of the
			fhir resource, there is only a single resource for both purposes. The Placer is the actor that performs the
			PUT or POST operation on the resource, and the filler is the actor that receives these resource messages and
			processes the information and makes a decision if the appointment can be used.
		</p>
		<li>Interaction with other Standards</li>
		<p>
			The strong desire is that implementers of this resource should consider providing this resource
			in the iCalendar format as an alternative representation. Many 3rd party applications and component providers
			have parsers and user interface controls to display this information.
			This may lower the entry point to integrate outside the health-care specific applications, and into the
			consumer space. This would permit the easier creation of a mobile application that creates appointments
			in the devices native calendar.<br/>
			The iCalendar specification can be found at <a href="http://www.ietf.org/rfc/rfc2445.txt">http://www.ietf.org/rfc/rfc2445.txt</a>.
		</p>
	</ul>
<blockquote class="dstu-note">
<a name="dstu"> </a>
<p>
<b>DSTU Note:</b> Implementer feedback on is sought on the values for Appointment.priority and how interoperable they are.
Using an extension to record a codeableconcept for named values may be tested at a future connectathon.
</p>
<p>
Feedback <a href="http://wiki.hl7.org/index.php?title=FHIR_Specification_Feedback_(DSTU_2)">here</a>.
</p>

</blockquote>
  
</div>
